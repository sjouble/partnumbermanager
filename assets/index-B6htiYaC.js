import{r as y,a as Ce,c as $,g as Ee}from"./vendor-BECWLT86.js";import{s as _e}from"./tesseract-B00NKKn6.js";(function(){const N=document.createElement("link").relList;if(N&&N.supports&&N.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))g(h);new MutationObserver(h=>{for(const l of h)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&g(i)}).observe(document,{childList:!0,subtree:!0});function _(h){const l={};return h.integrity&&(l.integrity=h.integrity),h.referrerPolicy&&(l.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?l.credentials="include":h.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function g(h){if(h.ep)return;h.ep=!0;const l=_(h);fetch(h.href,l)}})();var ne={exports:{}},Y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oe=y,Pe=Symbol.for("react.element"),Re=Symbol.for("react.fragment"),ke=Object.prototype.hasOwnProperty,Te=Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Le={key:!0,ref:!0,__self:!0,__source:!0};function re(U,N,_){var g,h={},l=null,i=null;_!==void 0&&(l=""+_),N.key!==void 0&&(l=""+N.key),N.ref!==void 0&&(i=N.ref);for(g in N)ke.call(N,g)&&!Le.hasOwnProperty(g)&&(h[g]=N[g]);if(U&&U.defaultProps)for(g in N=U.defaultProps,N)h[g]===void 0&&(h[g]=N[g]);return{$$typeof:Pe,type:U,key:l,ref:i,props:h,_owner:Te.current}}Y.Fragment=Re;Y.jsx=re;Y.jsxs=re;ne.exports=Y;var e=ne.exports,ie,te=Ce;ie=te.createRoot,te.hydrateRoot;var se={exports:{}};(function(U,N){(function(g,h){U.exports=h(y)})($,function(_){return function(g){var h={};function l(i){if(h[i])return h[i].exports;var x=h[i]={i,l:!1,exports:{}};return g[i].call(x.exports,x,x.exports,l),x.l=!0,x.exports}return l.m=g,l.c=h,l.d=function(i,x,b){l.o(i,x)||Object.defineProperty(i,x,{enumerable:!0,get:b})},l.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},l.t=function(i,x){if(x&1&&(i=l(i)),x&8||x&4&&typeof i=="object"&&i&&i.__esModule)return i;var b=Object.create(null);if(l.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:i}),x&2&&typeof i!="string")for(var u in i)l.d(b,u,(function(f){return i[f]}).bind(null,u));return b},l.n=function(i){var x=i&&i.__esModule?function(){return i.default}:function(){return i};return l.d(x,"a",x),x},l.o=function(i,x){return Object.prototype.hasOwnProperty.call(i,x)},l.p="",l(l.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(g,h,l){l.r(h);var i=l("react"),x=function(){var o=function(s,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var c in d)d.hasOwnProperty(c)&&(r[c]=d[c])},o(s,n)};return function(s,n){o(s,n);function r(){this.constructor=s}s.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(){return b=Object.assign||function(o){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])}return o},b.apply(this,arguments)},u=function(o,s){var n={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&s.indexOf(r)<0&&(n[r]=o[r]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,r=Object.getOwnPropertySymbols(o);d<r.length;d++)s.indexOf(r[d])<0&&Object.prototype.propertyIsEnumerable.call(o,r[d])&&(n[r[d]]=o[r[d]]);return n};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(s){var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return n?new Promise(function(r,d){n.call(navigator,s,r,d)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function f(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var C=function(o){x(s,o);function s(n){var r=o.call(this,n)||this;return r.canvas=null,r.ctx=null,r.requestUserMediaId=0,r.unmounted=!1,r.state={hasUserMedia:!1},r}return s.prototype.componentDidMount=function(){var n=this,r=n.state,d=n.props;if(this.unmounted=!1,!f()){d.onUserMediaError("getUserMedia not supported");return}r.hasUserMedia||this.requestUserMedia(),d.children&&typeof d.children!="function"&&console.warn("children must be a function")},s.prototype.componentDidUpdate=function(n){var r=this.props;if(!f()){r.onUserMediaError("getUserMedia not supported");return}var d=JSON.stringify(n.audioConstraints)!==JSON.stringify(r.audioConstraints),c=JSON.stringify(n.videoConstraints)!==JSON.stringify(r.videoConstraints),S=n.minScreenshotWidth!==r.minScreenshotWidth,v=n.minScreenshotHeight!==r.minScreenshotHeight;(c||S||v)&&(this.canvas=null,this.ctx=null),(d||c)&&(this.stopAndCleanup(),this.requestUserMedia())},s.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},s.stopMediaStream=function(n){n&&(n.getVideoTracks&&n.getAudioTracks?(n.getVideoTracks().map(function(r){n.removeTrack(r),r.stop()}),n.getAudioTracks().map(function(r){n.removeTrack(r),r.stop()})):n.stop())},s.prototype.stopAndCleanup=function(){var n=this.state;n.hasUserMedia&&(s.stopMediaStream(this.stream),n.src&&window.URL.revokeObjectURL(n.src))},s.prototype.getScreenshot=function(n){var r=this,d=r.state,c=r.props;if(!d.hasUserMedia)return null;var S=this.getCanvas(n);return S&&S.toDataURL(c.screenshotFormat,c.screenshotQuality)},s.prototype.getCanvas=function(n){var r=this,d=r.state,c=r.props;if(!this.video||!d.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var S=this.video.videoWidth,v=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var m=S/v;S=c.minScreenshotWidth||this.video.clientWidth,v=S/m,c.minScreenshotHeight&&v<c.minScreenshotHeight&&(v=c.minScreenshotHeight,S=v*m)}this.canvas=document.createElement("canvas"),this.canvas.width=(n==null?void 0:n.width)||S,this.canvas.height=(n==null?void 0:n.height)||v,this.ctx=this.canvas.getContext("2d")}var E=this,M=E.ctx,j=E.canvas;return M&&j&&(j.width=(n==null?void 0:n.width)||j.width,j.height=(n==null?void 0:n.height)||j.height,c.mirrored&&(M.translate(j.width,0),M.scale(-1,1)),M.imageSmoothingEnabled=c.imageSmoothing,M.drawImage(this.video,0,0,(n==null?void 0:n.width)||j.width,(n==null?void 0:n.height)||j.height),c.mirrored&&(M.scale(-1,1),M.translate(-j.width,0))),j},s.prototype.requestUserMedia=function(){var n=this,r=this.props,d=function(v,m){var E={video:typeof m<"u"?m:!0};r.audio&&(E.audio=typeof v<"u"?v:!0),n.requestUserMediaId++;var M=n.requestUserMediaId;navigator.mediaDevices.getUserMedia(E).then(function(j){n.unmounted||M!==n.requestUserMediaId?s.stopMediaStream(j):n.handleUserMedia(null,j)}).catch(function(j){n.handleUserMedia(j)})};if("mediaDevices"in navigator)d(r.audioConstraints,r.videoConstraints);else{var c=function(v){return{optional:[{sourceId:v}]}},S=function(v){var m=v.deviceId;return typeof m=="string"?m:Array.isArray(m)&&m.length>0?m[0]:typeof m=="object"&&m.ideal?m.ideal:null};MediaStreamTrack.getSources(function(v){var m=null,E=null;v.forEach(function(R){R.kind==="audio"?m=R.id:R.kind==="video"&&(E=R.id)});var M=S(r.audioConstraints);M&&(m=M);var j=S(r.videoConstraints);j&&(E=j),d(c(m),c(E))})}},s.prototype.handleUserMedia=function(n,r){var d=this.props;if(n||!r){this.setState({hasUserMedia:!1}),d.onUserMediaError(n);return}this.stream=r;try{this.video&&(this.video.srcObject=r),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(r)})}d.onUserMedia(r)},s.prototype.render=function(){var n=this,r=this,d=r.state,c=r.props,S=c.audio;c.forceScreenshotSourceSize;var v=c.disablePictureInPicture;c.onUserMedia,c.onUserMediaError,c.screenshotFormat,c.screenshotQuality,c.minScreenshotWidth,c.minScreenshotHeight,c.audioConstraints,c.videoConstraints,c.imageSmoothing;var m=c.mirrored,E=c.style,M=E===void 0?{}:E,j=c.children,R=u(c,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),L=m?b(b({},M),{transform:(M.transform||"")+" scaleX(-1)"}):M,z={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",b({autoPlay:!0,disablePictureInPicture:v,src:d.src,muted:!S,playsInline:!0,ref:function(D){n.video=D},style:L},R)),j&&j(z))},s.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},s}(i.Component);h.default=C},react:function(g,h){g.exports=_}}).default})})(se);var Ae=se.exports;const Ie=Ee(Ae);var oe={exports:{}};(function(U,N){(function(_,g){g()})($,function(){function _(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function g(u,f,C){var o=new XMLHttpRequest;o.open("GET",u),o.responseType="blob",o.onload=function(){b(o.response,f,C)},o.onerror=function(){console.error("could not download file")},o.send()}function h(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function l(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof $=="object"&&$.global===$?$:void 0,x=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),b=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(u,f,C){var o=i.URL||i.webkitURL,s=document.createElement("a");f=f||u.name||"download",s.download=f,s.rel="noopener",typeof u=="string"?(s.href=u,s.origin===location.origin?l(s):h(s.href)?g(u,f,C):l(s,s.target="_blank")):(s.href=o.createObjectURL(u),setTimeout(function(){o.revokeObjectURL(s.href)},4e4),setTimeout(function(){l(s)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,C){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(_(u,C),f);else if(h(u))g(u,f,C);else{var o=document.createElement("a");o.href=u,o.target="_blank",setTimeout(function(){l(o)})}}:function(u,f,C,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof u=="string")return g(u,f,C);var s=u.type==="application/octet-stream",n=/constructor/i.test(i.HTMLElement)||i.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||s&&n||x)&&typeof FileReader<"u"){var d=new FileReader;d.onloadend=function(){var v=d.result;v=r?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=v:location=v,o=null},d.readAsDataURL(u)}else{var c=i.URL||i.webkitURL,S=c.createObjectURL(u);o?o.location=S:location.href=S,o=null,setTimeout(function(){c.revokeObjectURL(S)},4e4)}});i.saveAs=b.saveAs=b,U.exports=b})})(oe);var De=oe.exports;function Fe(){const[U,N]=y.useState(null),[_,g]=y.useState(!1),[h,l]=y.useState(""),[i,x]=y.useState(""),[b,u]=y.useState([]),[f,C]=y.useState(""),[o,s]=y.useState(""),[n,r]=y.useState("카톤"),[d,c]=y.useState(""),[S,v]=y.useState(!1),[m,E]=y.useState(["카톤","중포","개"]),[M,j]=y.useState(""),[R,L]=y.useState(""),[z,D]=y.useState(-1),[Q,G]=y.useState(""),[J,q]=y.useState(0),[K,W]=y.useState(!1),[w,A]=y.useState(null),[k,I]=y.useState(null),H=y.useRef(null),O=y.useRef(null);y.useRef(null);const ae=y.useCallback(()=>{if(H.current){const t=H.current.getScreenshot();N(t),G(""),A(null)}},[H]),ce=()=>{N(null),l(""),x(""),C(""),s(""),c(""),A(null),I(null)},le=t=>{if(!O.current)return;const a=O.current.getBoundingClientRect(),p=t.clientX-a.left,P=t.clientY-a.top;W(!0),I({x:p,y:P}),A(null)},de=t=>{if(!K||!k||!O.current)return;const a=O.current.getBoundingClientRect(),p=t.clientX-a.left,P=t.clientY-a.top,T=p-k.x,B=P-k.y;A({x:T>0?k.x:p,y:B>0?k.y:P,width:Math.abs(T),height:Math.abs(B)})},ue=()=>{W(!1),I(null)},he=t=>{if(!O.current)return;if(t.touches.length>=2){W(!1),I(null),A(null);return}const a=O.current.getBoundingClientRect(),p=t.touches[0],P=p.clientX-a.left,T=p.clientY-a.top;W(!0),I({x:P,y:T}),A(null)},fe=t=>{if(t.touches.length>=2||!K||!k||!O.current)return;t.preventDefault();const a=O.current.getBoundingClientRect(),p=t.touches[0],P=p.clientX-a.left,T=p.clientY-a.top,B=P-k.x,F=T-k.y;A({x:B>0?k.x:P,y:F>0?k.y:T,width:Math.abs(B),height:Math.abs(F)})},pe=t=>{if(t.touches.length>=2){W(!1),I(null);return}W(!1),I(null)};y.useEffect(()=>{if(!O.current||!U)return;const t=O.current,a=t.getContext("2d");if(!a)return;const p=new Image;p.onload=()=>{t.width=p.width,t.height=p.height,a.drawImage(p,0,0),w&&(a.strokeStyle="#007bff",a.lineWidth=3,a.setLineDash([5,5]),a.strokeRect(w.x,w.y,w.width,w.height),a.fillStyle="rgba(0, 123, 255, 0.2)",a.fillRect(w.x,w.y,w.width,w.height))},p.src=U},[U,w]);const me=async()=>{if(U){g(!0),q(0);try{const t=await _e.createWorker("kor+eng");q(20),await t.setParameters({tessedit_char_whitelist:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz가나다라마바사아자차카타파하거너더러머버서어저처커터퍼허기니디리미비시이지치키티피히구누두루무부수우주추쿠투푸후그느드르므브스으즈츠크트프흐긔늬듸리미비시이지치키티피히그느드르므브스으즈츠크트프흐기니디리미비시이지치키티피히구누두루무부수우주추쿠투푸후그느드르므브스으즈츠크트프흐",tessedit_pageseg_mode:"6",tessedit_ocr_engine_mode:"3",preserve_interword_spaces:"1",textord_heavy_nr:"1",textord_min_linesize:"2.5"}),q(40);let a=U;if(w&&O.current){const T=O.current;if(T.getContext("2d")){const F=document.createElement("canvas"),ee=F.getContext("2d");ee&&(F.width=w.width,F.height=w.height,ee.drawImage(T,w.x,w.y,w.width,w.height,0,0,w.width,w.height),a=F.toDataURL("image/jpeg",.9))}}q(60);const{data:{text:p}}=await t.recognize(a);q(100);const P=p.replace(/[^\w\s가-힣]/g,"").replace(/\s+/g," ").trim();l(P),await t.terminate()}catch(t){console.error("OCR 처리 중 오류:",t),G("이미지 처리 중 오류가 발생했습니다.")}finally{g(!1),q(0)}}},ve=t=>{x(t),C(t)},ge=()=>{if(!f.trim()||!o.trim())return;const t={id:Date.now().toString(),number:f.trim(),quantity:o.trim(),unit:n,expiryDate:d.trim()||void 0};u(a=>[...a,t]),C(""),s(""),c("")},xe=t=>{u(a=>a.filter(p=>p.id!==t))},V=t=>{t.trim()&&!m.includes(t.trim())&&E(a=>[...a,t.trim()]),j(""),v(!1)},ye=t=>{D(t),L(m[t])},Z=()=>{if(R.trim()&&z>=0){const t=[...m];t[z]=R.trim(),E(t)}D(-1),L("")},je=t=>{if(t>=0&&m.length>1){const a=m.filter((p,P)=>P!==t);E(a),n===m[t]&&r(a[0])}},be=()=>{v(!0),j(""),D(-1),L("")},we=()=>{v(!1),j(""),D(-1),L("")},Se=()=>{const t=b.map(p=>`품번: ${p.number}, 수량: ${p.quantity}${p.unit}${p.expiryDate?`, 유통기한: ${p.expiryDate}`:""}`).join(`
`),a=new Blob([t],{type:"text/plain;charset=utf-8"});De.saveAs(a,"품번목록.txt")},Me=async()=>{const t=b.map(a=>`품번: ${a.number}, 수량: ${a.quantity}${a.unit}${a.expiryDate?`, 유통기한: ${a.expiryDate}`:""}`).join(`
`);if(navigator.share)try{await navigator.share({title:"품번 목록",text:t})}catch{console.log("공유 취소됨")}else navigator.clipboard.writeText(t),alert("품번 목록이 클립보드에 복사되었습니다.")},Ue=()=>{G("카메라에 접근할 수 없습니다. 카메라 권한을 확인해주세요.")},Ne=()=>{A(null),I(null)};return e.jsxs("div",{className:"App",children:[e.jsxs("header",{className:"App-header",children:[e.jsx("h1",{children:"품번 정리 앱"}),e.jsx("p",{className:"app-subtitle",children:"Tesseract.js 클라이언트 사이드 OCR"})]}),e.jsxs("main",{className:"App-main",children:[e.jsxs("section",{className:"camera-section",children:[e.jsx("h2",{children:"📷 카메라 촬영"}),U?e.jsxs("div",{className:"image-container",children:[e.jsxs("div",{className:"canvas-container",children:[e.jsx("canvas",{ref:O,className:"selection-canvas",onMouseDown:le,onMouseMove:de,onMouseUp:ue,onTouchStart:he,onTouchMove:fe,onTouchEnd:pe}),w&&e.jsx("div",{className:"selection-info",children:e.jsxs("p",{children:["선택된 영역: ",Math.round(w.width)," x ",Math.round(w.height)]})})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"retake-btn",onClick:ce,children:"🔄 다시 촬영"}),e.jsx("button",{className:"clear-selection-btn",onClick:Ne,children:"🗑️ 선택 영역 지우기"}),e.jsx("button",{className:"capture-btn",onClick:me,disabled:_,children:"🔍 텍스트 인식"})]})]}):e.jsxs("div",{className:"camera-container",children:[e.jsx(Ie,{ref:H,screenshotFormat:"image/jpeg",videoConstraints:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},onUserMediaError:Ue}),e.jsx("button",{className:"capture-btn",onClick:ae,children:"📸 촬영하기"})]}),Q&&e.jsx("div",{className:"camera-error",children:e.jsx("p",{children:Q})})]}),_&&e.jsxs("div",{className:"processing",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"이미지를 분석하고 있습니다..."}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${J}%`}})}),e.jsxs("p",{className:"progress-text",children:[J,"%"]})]}),h&&e.jsxs("section",{className:"result-section",children:[e.jsx("h2",{children:"🔍 인식된 텍스트"}),e.jsxs("div",{className:"ocr-result",children:[e.jsx("h3",{children:"선택할 텍스트를 클릭하세요:"}),e.jsx("div",{className:"recognized-text",children:h.split(`
`).map((t,a)=>e.jsx("div",{className:`text-line ${i===t?"selected-text":""}`,onClick:()=>ve(t),children:t},a))})]})]}),i&&e.jsxs("section",{className:"input-section",children:[e.jsx("h2",{children:"📝 품번 정보 입력"}),e.jsxs("div",{className:"input-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"품번:"}),e.jsx("input",{type:"text",value:f,onChange:t=>C(t.target.value),placeholder:"품번을 입력하세요"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"수량:"}),e.jsx("input",{type:"number",value:o,onChange:t=>s(t.target.value),placeholder:"수량을 입력하세요"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"단위:"}),e.jsx("select",{value:n,onChange:t=>r(t.target.value),children:m.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("button",{className:"unit-edit-btn",onClick:be,children:"✏️ 단위 편집"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"유통기한 (선택):"}),e.jsx("input",{type:"text",value:d,onChange:t=>c(t.target.value),placeholder:"YYYYMMDD 형식 (예: 20241231)",maxLength:8})]}),e.jsx("button",{className:"add-btn",onClick:ge,children:"➕ 품번 추가"})]})]}),b.length>0&&e.jsxs("section",{className:"list-section",children:[e.jsx("h2",{children:"📋 품번 목록"}),e.jsx("div",{className:"part-numbers-list",children:b.map(t=>e.jsxs("div",{className:"part-number-item",children:[e.jsxs("div",{children:[e.jsx("div",{className:"part-number",children:t.number}),e.jsxs("div",{className:"quantity",children:[t.quantity,t.unit]}),t.expiryDate&&e.jsxs("div",{className:"expiry-date",children:["유통기한: ",t.expiryDate]})]}),e.jsx("button",{className:"remove-btn",onClick:()=>xe(t.id),children:"삭제"})]},t.id))}),e.jsxs("div",{className:"final-actions",children:[e.jsx("button",{className:"save-btn",onClick:Se,children:"💾 파일로 저장"}),e.jsx("button",{className:"share-btn",onClick:Me,children:"📤 공유하기"})]})]}),S&&e.jsx("div",{className:"unit-editor-popup",children:e.jsxs("div",{className:"unit-editor-modal",children:[e.jsxs("div",{className:"unit-editor-header",children:[e.jsx("h3",{children:"단위 편집"}),e.jsx("button",{className:"close-btn",onClick:we,children:"✕"})]}),e.jsxs("div",{className:"unit-editor-content",children:[e.jsxs("div",{className:"add-unit-section",children:[e.jsx("h4",{children:"새 단위 추가"}),e.jsxs("div",{className:"add-unit-input",children:[e.jsx("input",{type:"text",value:M,onChange:t=>j(t.target.value),placeholder:"새 단위 입력",onKeyPress:t=>{t.key==="Enter"&&V(M)}}),e.jsx("button",{className:"add-unit-btn",onClick:()=>V(M),disabled:!M.trim(),children:"추가"})]})]}),e.jsxs("div",{className:"edit-units-section",children:[e.jsx("h4",{children:"기존 단위 편집"}),e.jsx("div",{className:"units-list",children:m.map((t,a)=>e.jsx("div",{className:"unit-item",children:z===a?e.jsxs("div",{className:"unit-edit-mode",children:[e.jsx("input",{type:"text",value:R,onChange:p=>L(p.target.value),onKeyPress:p=>{p.key==="Enter"&&Z()}}),e.jsx("button",{className:"save-unit-btn",onClick:Z,disabled:!R.trim(),children:"저장"}),e.jsx("button",{className:"cancel-unit-btn",onClick:()=>{D(-1),L("")},children:"취소"})]}):e.jsxs("div",{className:"unit-display-mode",children:[e.jsx("span",{className:"unit-text",children:t}),e.jsxs("div",{className:"unit-actions",children:[e.jsx("button",{className:"edit-unit-btn",onClick:()=>ye(a),children:"✏️"}),e.jsx("button",{className:"delete-unit-btn",onClick:()=>je(a),disabled:m.length<=1,children:"🗑️"})]})]})},a))})]})]})]})})]})]})}console.log("main.tsx 로드됨");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/partnumbermanager/sw.js").then(U=>{console.log("서비스 워커 등록 성공:",U.scope)}).catch(U=>{console.log("서비스 워커 등록 실패:",U)})});const X=document.getElementById("root");console.log("root 요소:",X);X?ie(X).render(e.jsx(y.StrictMode,{children:e.jsx(Fe,{})})):console.error("root 요소를 찾을 수 없습니다!");
